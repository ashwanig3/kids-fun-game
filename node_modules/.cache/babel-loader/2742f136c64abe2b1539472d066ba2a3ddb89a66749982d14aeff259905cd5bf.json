{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar dragDrop_1 = require(\"../actions/dragDrop\");\nvar registry_1 = require(\"../actions/registry\");\nvar equality_1 = require(\"../utils/equality\");\nvar dirtiness_1 = require(\"../utils/dirtiness\");\nvar xor = require('lodash/xor');\nfunction dirtyHandlerIds(state, action) {\n  if (state === void 0) {\n    state = dirtiness_1.NONE;\n  }\n  switch (action.type) {\n    case dragDrop_1.HOVER:\n      break;\n    case registry_1.ADD_SOURCE:\n    case registry_1.ADD_TARGET:\n    case registry_1.REMOVE_TARGET:\n    case registry_1.REMOVE_SOURCE:\n      return dirtiness_1.NONE;\n    case dragDrop_1.BEGIN_DRAG:\n    case dragDrop_1.PUBLISH_DRAG_SOURCE:\n    case dragDrop_1.END_DRAG:\n    case dragDrop_1.DROP:\n    default:\n      return dirtiness_1.ALL;\n  }\n  var _a = action.payload,\n    _b = _a.targetIds,\n    targetIds = _b === void 0 ? [] : _b,\n    _c = _a.prevTargetIds,\n    prevTargetIds = _c === void 0 ? [] : _c;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !equality_1.areArraysEqual(targetIds, prevTargetIds);\n  if (!didChange) {\n    return dirtiness_1.NONE;\n  }\n  // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n  return result;\n}\nexports.default = dirtyHandlerIds;","map":{"version":3,"names":["Object","defineProperty","exports","value","dragDrop_1","require","registry_1","equality_1","dirtiness_1","xor","dirtyHandlerIds","state","action","NONE","type","HOVER","ADD_SOURCE","ADD_TARGET","REMOVE_TARGET","REMOVE_SOURCE","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","END_DRAG","DROP","ALL","_a","payload","_b","targetIds","_c","prevTargetIds","result","didChange","length","areArraysEqual","prevInnermostTargetId","innermostTargetId","push","default"],"sources":["/Users/vishalgoswami/Documents/work/my-repo/kids-fun-game/node_modules/.pnpm/dnd-core@6.0.0/node_modules/dnd-core/lib/reducers/dirtyHandlerIds.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dragDrop_1 = require(\"../actions/dragDrop\");\nvar registry_1 = require(\"../actions/registry\");\nvar equality_1 = require(\"../utils/equality\");\nvar dirtiness_1 = require(\"../utils/dirtiness\");\nvar xor = require('lodash/xor');\nfunction dirtyHandlerIds(state, action) {\n    if (state === void 0) { state = dirtiness_1.NONE; }\n    switch (action.type) {\n        case dragDrop_1.HOVER:\n            break;\n        case registry_1.ADD_SOURCE:\n        case registry_1.ADD_TARGET:\n        case registry_1.REMOVE_TARGET:\n        case registry_1.REMOVE_SOURCE:\n            return dirtiness_1.NONE;\n        case dragDrop_1.BEGIN_DRAG:\n        case dragDrop_1.PUBLISH_DRAG_SOURCE:\n        case dragDrop_1.END_DRAG:\n        case dragDrop_1.DROP:\n        default:\n            return dirtiness_1.ALL;\n    }\n    var _a = action.payload, _b = _a.targetIds, targetIds = _b === void 0 ? [] : _b, _c = _a.prevTargetIds, prevTargetIds = _c === void 0 ? [] : _c;\n    var result = xor(targetIds, prevTargetIds);\n    var didChange = result.length > 0 || !equality_1.areArraysEqual(targetIds, prevTargetIds);\n    if (!didChange) {\n        return dirtiness_1.NONE;\n    }\n    // Check the target ids at the innermost position. If they are valid, add them\n    // to the result\n    var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n    var innermostTargetId = targetIds[targetIds.length - 1];\n    if (prevInnermostTargetId !== innermostTargetId) {\n        if (prevInnermostTargetId) {\n            result.push(prevInnermostTargetId);\n        }\n        if (innermostTargetId) {\n            result.push(innermostTargetId);\n        }\n    }\n    return result;\n}\nexports.default = dirtyHandlerIds;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,IAAIC,UAAU,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AAC/C,IAAIC,UAAU,GAAGD,OAAO,CAAC,qBAAqB,CAAC;AAC/C,IAAIE,UAAU,GAAGF,OAAO,CAAC,mBAAmB,CAAC;AAC7C,IAAIG,WAAW,GAAGH,OAAO,CAAC,oBAAoB,CAAC;AAC/C,IAAII,GAAG,GAAGJ,OAAO,CAAC,YAAY,CAAC;AAC/B,SAASK,eAAeA,CAACC,KAAK,EAAEC,MAAM,EAAE;EACpC,IAAID,KAAK,KAAK,KAAK,CAAC,EAAE;IAAEA,KAAK,GAAGH,WAAW,CAACK,IAAI;EAAE;EAClD,QAAQD,MAAM,CAACE,IAAI;IACf,KAAKV,UAAU,CAACW,KAAK;MACjB;IACJ,KAAKT,UAAU,CAACU,UAAU;IAC1B,KAAKV,UAAU,CAACW,UAAU;IAC1B,KAAKX,UAAU,CAACY,aAAa;IAC7B,KAAKZ,UAAU,CAACa,aAAa;MACzB,OAAOX,WAAW,CAACK,IAAI;IAC3B,KAAKT,UAAU,CAACgB,UAAU;IAC1B,KAAKhB,UAAU,CAACiB,mBAAmB;IACnC,KAAKjB,UAAU,CAACkB,QAAQ;IACxB,KAAKlB,UAAU,CAACmB,IAAI;IACpB;MACI,OAAOf,WAAW,CAACgB,GAAG;EAC9B;EACA,IAAIC,EAAE,GAAGb,MAAM,CAACc,OAAO;IAAEC,EAAE,GAAGF,EAAE,CAACG,SAAS;IAAEA,SAAS,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;IAAEE,EAAE,GAAGJ,EAAE,CAACK,aAAa;IAAEA,aAAa,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;EAC/I,IAAIE,MAAM,GAAGtB,GAAG,CAACmB,SAAS,EAAEE,aAAa,CAAC;EAC1C,IAAIE,SAAS,GAAGD,MAAM,CAACE,MAAM,GAAG,CAAC,IAAI,CAAC1B,UAAU,CAAC2B,cAAc,CAACN,SAAS,EAAEE,aAAa,CAAC;EACzF,IAAI,CAACE,SAAS,EAAE;IACZ,OAAOxB,WAAW,CAACK,IAAI;EAC3B;EACA;EACA;EACA,IAAIsB,qBAAqB,GAAGL,aAAa,CAACA,aAAa,CAACG,MAAM,GAAG,CAAC,CAAC;EACnE,IAAIG,iBAAiB,GAAGR,SAAS,CAACA,SAAS,CAACK,MAAM,GAAG,CAAC,CAAC;EACvD,IAAIE,qBAAqB,KAAKC,iBAAiB,EAAE;IAC7C,IAAID,qBAAqB,EAAE;MACvBJ,MAAM,CAACM,IAAI,CAACF,qBAAqB,CAAC;IACtC;IACA,IAAIC,iBAAiB,EAAE;MACnBL,MAAM,CAACM,IAAI,CAACD,iBAAiB,CAAC;IAClC;EACJ;EACA,OAAOL,MAAM;AACjB;AACA7B,OAAO,CAACoC,OAAO,GAAG5B,eAAe","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}